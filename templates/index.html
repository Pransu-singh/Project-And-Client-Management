<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Trust - Construction & Marketing</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="#" class="logo">Real Trust</a>
            <ul class="nav-links">
                <li><a href="#">Home</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#testimonials">Testimonials</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero" id="contact">
        <div class="container hero-content">
            <div class="hero-text">
                <h1>Consultation, Design, & Marketing</h1>
                <p>We help you build your dream home and market it effectively.</p>
                <a href="#contact" class="btn btn-primary">Get a Free Consultation</a>
            </div>
            <div class="hero-form">
                <h3>Get a Free Consultation</h3>
                <form id="hero-contact-form">
                    <input type="text" name="full_name" placeholder="Full Name" required>
                    <input type="email" name="email" placeholder="Enter Email Address" required>
                    <input type="tel" name="mobile" placeholder="Mobile Number" required>
                    <input type="text" name="city" placeholder="Area, City" required>
                    <button type="submit" class="btn btn-orange">Get Quick Quote</button>
                </form>
            </div>
        </div>
    </header>

    <!-- Why Choose Us -->
    <section class="section why-choose-us" id="services">
        <div class="container">
            <h2 class="section-title">Why Choose Us?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="icon">üè†</div>
                    <h3>Potential ROI</h3>
                    <p>Whether you're looking to buy a new home or renovate your current one, we ensure the best return on investment.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üé®</div>
                    <h3>Design</h3>
                    <p>Our expert designers will create a space that reflects your personality and lifestyle perfectly.</p>
                </div>
                <div class="feature-card">
                    <div class="icon">üì¢</div>
                    <h3>Marketing</h3>
                    <p>We use the latest marketing strategies to get your property seen by the right people.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us -->
    <section class="section about-us">
        <div class="container">
            <div class="about-content">
                <div class="about-images">
                   <!-- Placeholder for about images -->
                   <div class="image-grid">
                       <img src="{{ url_for('static', filename='uploads/about1.jpg') }}" alt="About 1">
                       <img src="{{ url_for('static', filename='uploads/about2.jpg') }}" alt="About 2">
                   </div>
                </div>
                <div class="about-text">
                    <h2 class="section-title">About Us</h2>
                    <p>We are a team of dedicated professionals committed to delivering excellence in every project we undertake.</p>
                    <a href="#" class="btn btn-outline">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Projects -->
    <section class="section projects" id="projects">
        <div class="container">
            <h2 class="section-title">Our Projects</h2>
            <p class="section-subtitle">We know what buyers are looking for and suggest projects that will bring maximum value for the sale of your house.</p>
            <div class="projects-grid" id="projects-container">
                <!-- Projects will be loaded here dynamically -->
                <p>Loading projects...</p>
            </div>
        </div>
    </section>

    <!-- Happy Clients -->
    <section class="section testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">Happy Clients</h2>
            <div class="testimonials-grid" id="clients-container">
                <!-- Clients will be loaded here dynamically -->
                <p>Loading testimonials...</p>
            </div>
        </div>
    </section>

    <!-- Contact Form (Reference Image) -->
    <!-- Note: The reference image showed a contact form in the hero section, which is implemented above. 
         But typically there's a dedicated contact section too. I'll add one if needed or rely on the hero one.
         However, the requirements say "Create a contact form... where a user can submit". 
         I'll stick to the one in the Hero section as per the first reference image style, 
         but also add a standalone one at the bottom as is common. -->
    
    <!-- Newsletter Subscription -->
    <section class="newsletter">
        <div class="container newsletter-content">
            <div class="newsletter-links">
                <a href="#">Home</a>
                <a href="#">Services</a>
                <a href="#">Projects</a>
                <a href="#">Testimonials</a>
                <a href="#">Contact</a>
            </div>
            <div class="newsletter-form-container">
                <form id="newsletter-form">
                    <label for="newsletter-email">Subscribe Us</label>
                    <input type="email" id="newsletter-email" name="email" placeholder="Enter Email Address" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 Real Trust. All rights reserved. | <a href="/admin/login" style="color: #666; font-size: 0.8rem;">Admin Login</a></p>
        </div>
    </footer>

    <script>
        // Fetch Projects
        fetch('/api/projects')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('projects-container');
                container.innerHTML = '';
                if (data.length === 0) {
                    container.innerHTML = '<p>No projects found. Add some from the Admin Panel.</p>';
                }
                data.forEach(project => {
                    const card = document.createElement('div');
                    card.className = 'project-card';
                    card.innerHTML = `
                        <img src="${project.image}" alt="${project.name}">
                        <div class="project-info">
                            <h3>${project.name}</h3>
                            <p>${project.description}</p>
                            <button class="btn btn-sm btn-orange" disabled>READ MORE</button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            });

        // Fetch Clients
        fetch('/api/clients')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('clients-container');
                container.innerHTML = '';
                if (data.length === 0) {
                    container.innerHTML = '<p>No testimonials found. Add some from the Admin Panel.</p>';
                }
                data.forEach(client => {
                    const card = document.createElement('div');
                    card.className = 'client-card';
                    card.innerHTML = `
                        <img src="${client.image}" alt="${client.name}">
                        <p class="client-desc">"${client.description}"</p>
                        <div class="client-info">
                            <h4>${client.name}</h4>
                            <span>${client.designation}</span>
                        </div>
                    `;
                    container.appendChild(card);
                });
            });

        // Handle Contact Form
        document.getElementById('hero-contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            fetch('/submit_contact', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                this.reset();
            })
            .catch(error => console.error('Error:', error));
        });

        // Handle Newsletter Form
        document.getElementById('newsletter-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            fetch('/subscribe', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                this.reset();
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>
